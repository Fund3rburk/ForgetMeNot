@inject SignInManager<ForgetMeNot.Models.ApplicationUser> SignInManager
@inject UserManager<ForgetMeNot.Models.ApplicationUser> UserManager

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Manager - Always Remember</title>

    <environment include="Development">
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.cyan-light_blue.min.css">
        <link rel="stylesheet" href="~/css/styles.css">
    </environment>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.cyan-light_blue.min.css">
    <link rel="stylesheet" href="~/css/styles.css">
</head>
<body>
    <div class="fmn-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
        <header class="fmn-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600">
            <div class="mdl-layout__header-row">
                <span class="mdl-layout-title">Always Remember...</span>
                <div class="mdl-layout-spacer"></div>

                @if (SignInManager.IsSignedIn(User))
                { 
                <div id="userMenuContainer">
                    <div id="userInfoContainer" >
                        <ul class="fmn-list-two mdl-list" id="userMenu">
                            <li class="mdl-list__item mdl-list__item--two-line">
                                <span class="mdl-list__item-primary-content">
                                    <i class="material-icons mdl-list__item-avatar">person</i>
                                    <span>@User.Identity.Name</span>
                                    <span class="mdl-list__item-sub-title">Free User</span>
                                </span>
                                <span class="mdl-list__item-secondary-content" >
                                    <i class="material-icons mdl-button--icon">arrow_drop_down</i>
                                </span>

                            </li>
                        </ul>
                        </div>
                    <div id="userMenuItems">
                        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" style="display: block" for="userMenu">
                            <li class="mdl-menu__item" title="Manage"><a asp-area="Identity" asp-page="/Account/Manage/Index">Manage Account</a></li>
                            <li class="mdl-menu__item">
                                <form asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/", new { area = "" })" method="post">
                                    <button type="submit" formmethod="post" class="nav-link btn btn-link text-dark">Logout</button>
                                </form>
                            </li>
                        </ul>
                    </div>
                   </div>
                    }
                    else
                    {
                    <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Register">Signup</a>
                    <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Login">Login</a>
                    }

                    <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn">
                        <i class="material-icons">more_vert</i>
                    </button>
                    <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
                        <li class="mdl-menu__item">About</li>
                        <li class="mdl-menu__item">Contact</li>
                        <li class="mdl-menu__item"><a asp-page="/Privacy">Legal information</a></li>
                    </ul>
                </div>
        </header>
        <div class="fmn-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
            <header class="fmn-drawer-header">
                <partial name="_LoginPartial" />
            </header>
            <nav class="fmn-navigation mdl-navigation mdl-color--blue-grey-800">
                <a class="mdl-navigation__link" asp-page="/Index"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">home</i>Home</a>
                <a class="mdl-navigation__link" asp-page="/Events/Upcoming"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">alarm</i>Upcoming</a>
                <a class="mdl-navigation__link" asp-page="/Events/Index"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">event</i>Events</a>
                <a class="mdl-navigation__link" href=""><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">card_membership</i>Premium</a>
                <a class="mdl-navigation__link" href=""><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">people</i>Social</a>
                <div class="mdl-layout-spacer"></div>
                <a class="mdl-navigation__link" href=""><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">help_outline</i><span class="visuallyhidden">Help</span></a>
            </nav>
        </div>
        <main class="mdl-layout__content mdl-color--grey-100">

            <div class="mdl-grid fmn-content">
                <div class="fmn-graphs mdl-shadow--2dp mdl-color--white mdl-grid">
                    @RenderBody()
                </div>
            </div>
        </main>
    </div>
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
